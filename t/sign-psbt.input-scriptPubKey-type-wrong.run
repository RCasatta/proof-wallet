#!/bin/bash

$PROOFWALLET sign-psbt -m 2 -n 3 --regtest << INPUT 2>&1
y
y
y
y
y
y
viable finger bless corn tomorrow emotion kangaroo there youth impose innocent december swamp reduce famous enter worth search home journey volcano clerk consider noise
[3b6b014e]tpubD6NzVbkrYhZ4Wnsni4GBz5MepuDt6zidxNKZUGKQGgokfadLG2Jf33PXRGSfTCC3xjvv2YhCpFGTrShdUq8mCqZPUjpAu9bnPuAf4vt9Apw
[41f408e8/1']tpubD8kF7X4sjY6y5zRgmYhjd4878gYVtuesSxo8zhYkNdb5KRZK7tU42yS2RTBA6Mn86VRfRXk6RqJ6FQ35tDaLxyhEGG2SSKAf1ifcYG9fNjX
[2eb4fc90/48'/1'/0'/1']tpubDFFFhev78PB1D7fTgbu8i2Jz2puZ9F3Xkc9z1mZdgcd8wpgehjgZ6aYSnXfdXmexT2QA2hJagdSqfafNsmTYvka8sUCWxuj2Y2dhfWYbMJc
cHNidP8BAHICAAAAAbH9O+gUmaBDcCo81wNGh1mJHg7Pn/fYG/oqK4vlht3ZAQAAAAD/////AmubAAAAAAAAF6kUNBVKI6DKDrc8FaJauswpv/ZTf8eHYOoAAAAAAAAWABQusfQWkbNhRGs3KKe78YIAqZrteAAAAAAAAQCKAgAAAAGfBotFdOsyfjP2q1FUn+50YD7vIbvBvSJvpaa4YGF6pRMAAAAXFgAU9LvUvDMY4eohQmZ/WQ95wNOlNXH+////ApoVQAAAAAAAF6kUg/3yp8RSwqUIWSB+tXfcaWJBfO2HoIYBAAAAAAAXqRQsOhKLwkTRABPNWtPgDn5+gkam14fK9RsAAQEgoIYBAAAAAAAXqRQsOhKLwkTRABPNWtPgDn5+gkam14cBBCIAIJD4d874RHpRZE2ahN2lH1k1aAZXqK0SDRg/oGEPCqzOAQVpUiECpIkcRyuQaJ8qJsIjDRWZgo21x5ZNmYQezSgxZ4AXSkMhAzPRmOgTKKcuniMxp600LfQS0KCet3sARO8Dgeo75q1rIQORahX4UEjoM55zl+aQv3PEsaOj1nYbDVXVgG5JikwFe1OuIgYCpIkcRyuQaJ8qJsIjDRWZgo21x5ZNmYQezSgxZ4AXSkMMO2sBTgAAAAAAAAAAIgYDM9GY6BMopy6eIzGnrTQt9BLQoJ63ewBE7wOB6jvmrWscLrT8kDAAAIABAACAAAAAgAEAAIAAAAAAAAAAACIGA5FqFfhQSOgznnOX5pC/c8Sxo6PWdhsNVdWAbkmKTAV7EEH0COgBAACAAAAAAAAAAAAAAQAiACCCY7b3LkJa5B8qqmWAz1VUz/SvfJ29eDvGHCZbqxlgtwEBaVIhApzpA/cOm2pLz3ylHCe+Q3xSe3yqvUdSGgcshs6VMkAzIQLsieEDnKxDVq8tWVuO3VXy2Q/tQLR4biChoaCq1md+vSEDUQLibybTc3j8TluQxnBdZFvAO93z+B6seBIV+q3P++VTriICApzpA/cOm2pLz3ylHCe+Q3xSe3yqvUdSGgcshs6VMkAzEEH0COgBAACAAQAAAAAAAAAiAgLsieEDnKxDVq8tWVuO3VXy2Q/tQLR4biChoaCq1md+vRwutPyQMAAAgAEAAIAAAACAAQAAgAEAAAAAAAAAIgIDUQLibybTc3j8TluQxnBdZFvAO93z+B6seBIV+q3P++UMO2sBTgEAAAAAAAAAAAA=
INPUT

retVal=$?
if [ $retVal -eq 0 ]; then
    echo "Error: expected proofwallet.py to fail"
    exit 1
fi
